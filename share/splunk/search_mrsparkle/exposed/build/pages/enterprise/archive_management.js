!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={9:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.e=function(chunkId){var promises=[],installedChunkData=installedChunks[chunkId];if(0!==installedChunkData)if(installedChunkData)promises.push(installedChunkData[2]);else{var promise=new Promise(function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]});promises.push(installedChunkData[2]=promise);var onScriptComplete,head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.charset="utf-8",script.timeout=120,__webpack_require__.nc&&script.setAttribute("nonce",__webpack_require__.nc),script.src=function(chunkId){return __webpack_require__.p+""+({}[chunkId]||chunkId)+".js"}(chunkId),onScriptComplete=function(event){script.onerror=script.onload=null,clearTimeout(timeout);var chunk=installedChunks[chunkId];if(0!==chunk){if(chunk){var errorType=event&&("load"===event.type?"missing":event.type),realSrc=event&&event.target&&event.target.src,error=new Error("Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")");error.type=errorType,error.request=realSrc,chunk[1](error)}installedChunks[chunkId]=void 0}};var timeout=setTimeout(function(){onScriptComplete({type:"timeout",target:script})},12e4);script.onerror=script.onload=onScriptComplete,head.appendChild(script)}return Promise.all(promises)},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__.oe=function(err){throw console.error(err),err};var jsonpArray=window.webpackJsonp=window.webpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([1188,0]),checkDeferredModules()}({1188:function(module,exports,__webpack_require__){__webpack_require__.p=function(){function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return function(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)(len=(seg=arguments[i].toString()).length)>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),"/"!=seg.charAt(0)?output+="/"+seg:output+=seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),combinedPath="/"+getConfigValue("LOCALE","en-US")+output;return""==root||"/"==root?combinedPath:root+combinedPath}("/static/build/pages/enterprise")+"/"}(),__webpack_require__(0);var _ArchiveManagement2=_interopRequireDefault(__webpack_require__("routers/ArchiveManagement")),_router_utils2=_interopRequireDefault(__webpack_require__("util/router_utils"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}new _ArchiveManagement2.default,_router_utils2.default.start_backbone_history()},"routers/ArchiveManagement":function(module,exports,__webpack_require__){"use strict";(function(fetch){__webpack_require__(0),Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(6)),_underscore2=_interopRequireDefault(__webpack_require__("require/underscore")),_jquery2=_interopRequireDefault(__webpack_require__("shim/jquery")),_react2=_interopRequireDefault(__webpack_require__(3)),_reactDom=__webpack_require__(37),_Error2=_interopRequireDefault(__webpack_require__("views/shared/react/Error")),_Base2=_interopRequireDefault(__webpack_require__("routers/Base")),_querystring2=_interopRequireDefault(__webpack_require__(46)),_url=__webpack_require__(34),_fetch=__webpack_require__(39),_theme_utils=__webpack_require__("util/theme_utils"),_ArchiveManagement2=_interopRequireDefault(__webpack_require__("views/archive_management/ArchiveManagement"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ArchiveManagementRouter=_Base2.default.extend({initialize:function(){for(var _BaseRouter$prototype,_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];(_BaseRouter$prototype=_Base2.default.prototype.initialize).call.apply(_BaseRouter$prototype,[this].concat(args)),this.setPageTitle((0,_underscore2.default)("Archive Management").t()),this.enableAppBar=!1,this.fetchAppLocals=!0,this.fetchServerInfo=!0},fetchRestoreHistory:function(data){return fetch((0,_url.createRESTURL)("restore_history_sh"),(0,_extends3.default)({},_fetch.defaultFetchInit,{method:"POST",body:_querystring2.default.encode(data)})).then((0,_fetch.handleResponse)(200)).catch((0,_fetch.handleError)((0,_underscore2.default)("Unable to process restore history.").t()))},fetchArchiveMetadata:function(data){return fetch((0,_url.createRESTURL)("index_restore_sh"),(0,_extends3.default)({},_fetch.defaultFetchInit,{method:"POST",body:_querystring2.default.encode(data)})).then((0,_fetch.handleResponse)(200)).catch((0,_fetch.handleError)((0,_underscore2.default)("Unable to fetch archive metadata.").t()))},page:function(){for(var _BaseRouter$prototype2,_this=this,_len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];(_BaseRouter$prototype2=_Base2.default.prototype.page).call.apply(_BaseRouter$prototype2,[this].concat(args));var props={onFetchHistory:this.fetchRestoreHistory,onFetchArchive:this.fetchArchiveMetadata};_jquery2.default.when(this.deferreds.pageViewRendered,this.deferreds.appLocals,this.deferreds.serverInfo).done(function(){if((0,_jquery2.default)(".preload").replaceWith(_this.pageView.el),_this.collection.appLocals.isArchiverAppInstalled())(0,_reactDom.render)(_react2.default.createElement(_theme_utils.ThemeProvider,{theme:(0,_theme_utils.getReactUITheme)()},_react2.default.createElement(_ArchiveManagement2.default,props)),_this.pageView.$(".main-section-body").get(0));else{var eProps={model:{application:_this.model.application,serverInfo:_this.model.serverInfo},message:(0,_underscore2.default)("You do not have permission to view the contents of this page. Contact Splunk support to learn more.").t()};(0,_reactDom.render)(_react2.default.createElement(_theme_utils.ThemeProvider,{theme:(0,_theme_utils.getReactUITheme)()},_react2.default.createElement(_Error2.default,eProps)),_this.pageView.$(".main-section-body").get(0))}})}});exports.default=ArchiveManagementRouter,module.exports=exports.default}).call(this,__webpack_require__(33))},"views/archive_management/ArchiveManagement":function(module,exports,__webpack_require__){"use strict";__webpack_require__(0),Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(10)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(11)),_inherits3=_interopRequireDefault(__webpack_require__(12)),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(4)),_i18n=__webpack_require__(7),_Paragraph2=_interopRequireDefault(__webpack_require__(43)),_TabLayout2=_interopRequireDefault(__webpack_require__(317)),_Restore2=_interopRequireDefault(__webpack_require__("views/archive_management/panels/Restore")),_Archive2=_interopRequireDefault(__webpack_require__("views/archive_management/panels/Archive"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ArchiveManagement=function(_Component){function ArchiveManagement(props,context){(0,_classCallCheck3.default)(this,ArchiveManagement);var _this=(0,_possibleConstructorReturn3.default)(this,(ArchiveManagement.__proto__||Object.getPrototypeOf(ArchiveManagement)).call(this,props,context));return _this.handleChange=function(e,data){_this.setState({activePanelId:data.activePanelId})},_this.state={activePanelId:"archive"},_this}return(0,_inherits3.default)(ArchiveManagement,_Component),(0,_createClass3.default)(ArchiveManagement,[{key:"render",value:function(){return _react2.default.createElement("div",null,_react2.default.createElement(_TabLayout2.default,{activePanelId:this.state.activePanelId,onChange:this.handleChange},_react2.default.createElement(_TabLayout2.default.Panel,{label:(0,_i18n._)("Archive"),panelId:"archive",style:{margin:20}},_react2.default.createElement(_Paragraph2.default,null," ",(0,_i18n._)("Archived indexes")," "),_react2.default.createElement(_Archive2.default,{onFetchArchive:this.props.onFetchArchive})),_react2.default.createElement(_TabLayout2.default.Panel,{label:(0,_i18n._)("Restore"),panelId:"restore",style:{margin:20}},_react2.default.createElement(_Paragraph2.default,null," ",(0,_i18n._)("Restore history")," "),_react2.default.createElement(_Restore2.default,{onFetchHistory:this.props.onFetchHistory}))))}}]),ArchiveManagement}(_react.Component);ArchiveManagement.propTypes={onFetchHistory:_propTypes2.default.func.isRequired,onFetchArchive:_propTypes2.default.func.isRequired},exports.default=ArchiveManagement,module.exports=exports.default},"views/archive_management/panels/Archive":function(module,exports,__webpack_require__){"use strict";__webpack_require__(0),Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(10)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(11)),_inherits3=_interopRequireDefault(__webpack_require__(12)),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(4)),_Table2=_interopRequireDefault(__webpack_require__(58)),_i18n=__webpack_require__(7),_DynamicDataArchiveUtils=__webpack_require__("views/shared/indexes/cloud/DynamicDataArchiveUtils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{sortKey:"IndexName",label:(0,_i18n._)("IndexName")},{sortKey:"earliest",label:(0,_i18n._)("Earliest")},{sortKey:"latest",label:(0,_i18n._)("Latest")}],Archive=function(_Component){function Archive(){var _ref;(0,_classCallCheck3.default)(this,Archive);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=(0,_possibleConstructorReturn3.default)(this,(_ref=Archive.__proto__||Object.getPrototypeOf(Archive)).call.apply(_ref,[this].concat(args)));return _this.componentDidMount=function(){var data=(0,_DynamicDataArchiveUtils.constructHistoryData)();data.action="time_ranges",_this.props.onFetchArchive(data).then(function(response){"success"===response.status&&_this.setState({items:response.time_ranges})})},_this.state={items:[]},_this}return(0,_inherits3.default)(Archive,_Component),(0,_createClass3.default)(Archive,[{key:"render",value:function(){var archiveHeaders=["IndexName","earliest","latest"];return _react2.default.createElement("div",null,this.state.items.length>0?_react2.default.createElement(_Table2.default,{stripeRows:!0},_react2.default.createElement(_Table2.default.Head,null,columns.map(function(headData){return _react2.default.createElement(_Table2.default.HeadCell,{"data-test":headData.sortKey,key:headData.sortKey},headData.label)})),_react2.default.createElement(_Table2.default.Body,null,this.state.items.map(function(row,index){var rowKey="row-"+index;return _react2.default.createElement(_Table2.default.Row,{key:rowKey,"data-test":rowKey},archiveHeaders.map(function(key){return _react2.default.createElement(_Table2.default.Cell,{key:key,"data-test":rowKey+"-"+key},(0,_DynamicDataArchiveUtils.getFormattedValue)(key,row[key]))}))}))):_DynamicDataArchiveUtils.emptyArchiveTemplate)}}]),Archive}(_react.Component);Archive.propTypes={onFetchArchive:_propTypes2.default.func.isRequired},exports.default=Archive,module.exports=exports.default},"views/archive_management/panels/Restore":function(module,exports,__webpack_require__){"use strict";__webpack_require__(0),Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(6)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(10)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(11)),_inherits3=_interopRequireDefault(__webpack_require__(12)),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(4)),_Table2=_interopRequireDefault(__webpack_require__(58)),_DefinitionList2=_interopRequireDefault(__webpack_require__(367)),_i18n=__webpack_require__(7),_test_support=__webpack_require__("util/test_support"),DDAUtils=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__("views/shared/indexes/cloud/DynamicDataArchiveUtils"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Restore=function(_Component){function Restore(props,context){(0,_classCallCheck3.default)(this,Restore);var _this=(0,_possibleConstructorReturn3.default)(this,(Restore.__proto__||Object.getPrototypeOf(Restore)).call(this,props,context));return _this.componentDidMount=function(){_this.props.onFetchHistory(DDAUtils.constructHistoryData()).then(function(response){response.count>0&&_this.setState({items:response.items})})},_this.getExpansion=function(row){return _react2.default.createElement(_Table2.default.Row,{key:row.RequestId+"-expansion","data-test":row.RequestId+"-expanded-row"},_react2.default.createElement(_Table2.default.Cell,{style:{borderTop:"none"},colSpan:7},_react2.default.createElement(_DefinitionList2.default,null,["RequestId","EmailAddresses"].map(function(colName){return _react2.default.createElement("div",{key:row[colName]},_react2.default.createElement(_DefinitionList2.default.Term,null,DDAUtils.localisedStrings[colName]),_react2.default.createElement(_DefinitionList2.default.Description,{style:{whiteSpace:"pre-wrap"}},row[colName]||" "))}),_react2.default.createElement("div",{key:"reason"},_react2.default.createElement(_DefinitionList2.default.Term,null,(0,_i18n._)("Reason")),_react2.default.createElement(_DefinitionList2.default.Description,null,DDAUtils.getAdditionalStateInfo(row.State))))))},_this.handleSort=function(e,_ref){var sortKey=_ref.sortKey,nextSortDir=DDAUtils.getNextSortDir(_this.state.sortKey,_this.state.sortDir,sortKey);_this.setState({sortKey:sortKey,sortDir:nextSortDir}),_this.props.onFetchHistory(DDAUtils.constructHistoryData("",sortKey,nextSortDir)).then(function(response){response.count>0&&_this.setState({items:response.items})})},_this.state={sortKey:"IndexName",sortDir:"asc",items:[],requestId:""},_this}return(0,_inherits3.default)(Restore,_Component),(0,_createClass3.default)(Restore,[{key:"render",value:function(){var _this2=this,_state=this.state,sortKey=_state.sortKey,sortDir=_state.sortDir,columns=DDAUtils.getRestoreHistoryColumns(this.state.items);return _react2.default.createElement("div",null,this.state.items.length>0?_react2.default.createElement(_Table2.default,(0,_extends3.default)({rowExpansion:"single",stripeRows:!0,headType:"fixed",innerStyle:{maxHeight:800}},(0,_test_support.createTestHook)(null,"ArchiveRestoreHistoryTable")),_react2.default.createElement(_Table2.default.Head,null,columns.map(function(headData){return _react2.default.createElement(_Table2.default.HeadCell,{key:headData.sortKey,onSort:"Description"!==headData.sortKey?_this2.handleSort:void 0,sortKey:headData.sortKey,sortDir:headData.sortKey===sortKey?sortDir:"none"},headData.label)})),_react2.default.createElement(_Table2.default.Body,null,this.state.items.map(function(row,index){var rowKey="row-"+index;return _react2.default.createElement(_Table2.default.Row,{key:rowKey,"data-test":rowKey,expansionRow:_this2.getExpansion(row)},DDAUtils.headers.map(function(key){return _react2.default.createElement(_Table2.default.Cell,{key:key,"data-test":rowKey+"-"+key},"State"===key&&DDAUtils.getStateIcon(row[key]),DDAUtils.getFormattedValue(key,row[key]))}))}))):DDAUtils.emptyTemplate)}}]),Restore}(_react.Component);Restore.propTypes={onFetchHistory:_propTypes2.default.func.isRequired},exports.default=Restore,module.exports=exports.default},"views/shared/react/Error":function(module,exports,__webpack_require__){"use strict";__webpack_require__(0),Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(10)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(11)),_inherits3=_interopRequireDefault(__webpack_require__(12)),_propTypes2=_interopRequireDefault(__webpack_require__(4)),_BackboneAdapterBase3=_interopRequireDefault(__webpack_require__("components/BackboneAdapterBase")),_i18n=__webpack_require__(7),_Master2=_interopRequireDefault(__webpack_require__("views/error/Master")),_backbone2=_interopRequireDefault(__webpack_require__("require/backbone"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Error=function(_BackboneAdapterBase){function Error(){return(0,_classCallCheck3.default)(this,Error),(0,_possibleConstructorReturn3.default)(this,(Error.__proto__||Object.getPrototypeOf(Error)).apply(this,arguments))}return(0,_inherits3.default)(Error,_BackboneAdapterBase),(0,_createClass3.default)(Error,[{key:"getView",value:function(){return new _Master2.default({model:{application:this.props.model.application,serverInfo:this.props.serverInfo,error:new _backbone2.default.Model({status:this.props.status,message:this.props.message})}})}}]),Error}(_BackboneAdapterBase3.default);Error.propTypes={model:_propTypes2.default.shape({application:_propTypes2.default.shape({}),serverInfo:_propTypes2.default.shape({})}),status:_propTypes2.default.string,message:_propTypes2.default.string},Error.defaultProps={model:{application:new _backbone2.default.Model({content:new _backbone2.default.Model}),serverInfo:new _backbone2.default.Model({content:new _backbone2.default.Model})},status:(0,_i18n._)("404 Not Found"),message:(0,_i18n._)("Page not found!")},exports.default=Error,module.exports=exports.default}});